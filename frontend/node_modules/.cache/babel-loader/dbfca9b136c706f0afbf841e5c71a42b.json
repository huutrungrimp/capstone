{"ast":null,"code":"import _defineProperty from \"/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/frontend/src/posts/UpdatePost.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { updatePost as _updatePost } from '../store/actions/postActions';\nimport authServices from '../store/services/authServices';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar UpdatePost = function UpdatePost(props) {\n  _s();\n\n  console.log(props);\n  var postID = props.match.params.id;\n  console.log(postID);\n\n  var _useState = useState({\n    title: '',\n    content: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      post = _useState2[0],\n      setPost = _useState2[1];\n\n  console.log(authServices().username);\n  useEffect(function () {\n    axios.get(\"http://127.0.0.1:8000/posts/\".concat(postID)).then(function (res) {\n      console.log(res.data);\n      var post = res.data;\n      setPost(post);\n    });\n  }, [postID]);\n  console.log(post);\n\n  var onChange = function onChange(e) {\n    console.log(post);\n    setPost(_objectSpread(_objectSpread({}, post), {}, _defineProperty({}, e.target.name, e.target.value)));\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    props.updatePost(post);\n    props.history.push('/posts');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mainClass\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Update Course\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Form, {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          name: \"title\",\n          value: post.title,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"exampleForm.ControlTextarea1\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"textarea\",\n          rows: 5,\n          type: \"text\",\n          name: \"content\",\n          value: post.content,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        onClick: handleSubmit,\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(UpdatePost, \"9U27p5SOJuZsyivOJpwXutDAvOw=\");\n\n_c = UpdatePost;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    state: state\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updatePost: function updatePost(post) {\n      dispatch(_updatePost(post));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePost);\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdatePost\");","map":{"version":3,"sources":["/frontend/src/posts/UpdatePost.js"],"names":["React","useState","useEffect","Form","Button","connect","updatePost","authServices","axios","UpdatePost","props","console","log","postID","match","params","id","title","content","post","setPost","username","get","then","res","data","onChange","e","target","name","value","handleSubmit","preventDefault","history","push","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {Form, Button} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { updatePost } from '../store/actions/postActions';\r\nimport authServices from '../store/services/authServices';\r\nimport axios from 'axios'\r\n\r\nconst UpdatePost = (props) => {\r\n    console.log(props);\r\n    const postID = props.match.params.id;\r\n    console.log(postID)\r\n\r\n    const[post, setPost] = useState({\r\n        title: '',        \r\n        content: '',\r\n    });\r\n\r\n    console.log(authServices().username);\r\n    \r\n\r\n    useEffect(() => {\r\n        axios.get(`http://127.0.0.1:8000/posts/${postID}`)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            const post = res.data;\r\n            setPost(post);                  \r\n        })\r\n    }, [postID])  \r\n\r\n    console.log(post)\r\n\r\n    const onChange = e => {\r\n        console.log(post);\r\n        setPost({\r\n            ...post,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    \r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.updatePost(post);\r\n        props.history.push('/posts');\r\n    };\r\n\r\n    return (\r\n        <div className='mainClass'>           \r\n            \r\n            <h4>Update Course</h4>\r\n            <Form className='form'>\r\n                \r\n                <Form.Group>\r\n                    <Form.Label>Title</Form.Label>\r\n                    <Form.Control \r\n                        type=\"text\" \r\n                        name='title'\r\n                        value={post.title}\r\n                        onChange={onChange}\r\n                    />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n                    <Form.Label>Content</Form.Label>\r\n                    <Form.Control as=\"textarea\" rows={5} \r\n                        type=\"text\" \r\n                        name='content'\r\n                        value={post.content}\r\n                        onChange={onChange}                    \r\n                    />\r\n                </Form.Group>\r\n\r\n                <Button variant=\"primary\" type=\"submit\" onClick={handleSubmit}>\r\n                    Update\r\n                </Button>\r\n            </Form>          \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        state\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updatePost: (post) => {dispatch(updatePost(post))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePost)\r\n"]},"metadata":{},"sourceType":"module"}